starts_with("parent1_ethnicity_"),
sep = "") %>%
tidyr::unite(col = parent2_ethnicity,
starts_with("parent2_ethnicity_"),
sep = "") %>%
tidyr::unite(col = child_ethnicity,
starts_with("child_ethnicity_"),
sep = "") %>%
dplyr::filter(!sub_id %in% c("T14", "T18",
"T19", "T20", "T35",
"A03", "A04", "A14")) %>%
janitor::remove_empty(which = "cols") %>%
dplyr::mutate_at(vars(sub_id, sub_dx,
grade,
child_ethnicity, child_prev_mh,
child_words, child_sentence,
child_earinf, child_eartube, child_psycheval, child_splag_eval,
child_heareval, child_aca,
child_repeat, child_sped,
marital_status, income,
edprobs, mhealth,
child_med, child_med_visit,
parent1_rel, parent1_gender, parent1_ethnicity, parent1_ed,
parent2_rel, parent2_gender, parent2_ethnicity, parent2_ed,
contains("ethn")),
factor) %>%
dplyr::mutate(child_iq = ifelse(!is.na(wiscvfsiqcs), wiscvfsiqcs, wasi_fsiq4)) %>%
dplyr:: select(sub_id, sub_dx, date, age,
child_grade = grade,
child_ethnicity, child_prev_mh, child_prev_mh2,
child_edprobs = edprobs,
child_mhealth = mhealth,
child_mh_other = mh_other,
child_words, child_sentence,
child_earinf, child_eartube,
child_psycheval, child_psycheval2,
child_splag_eval, child_splag_eval2,
child_heareval, child_heareval2,
child_med, child_med2,
child_med_visit, child_aca, child_aca2,
child_repeat, child_sped, child_sped2,
marital_status, income,
parent1_rel, parent1_gender, parent1_ethnicity, parent1_ed, parent1_employment,
parent2_rel, parent2_gender, parent2_ethnicity, parent2_ed, parent2_employment,
wisc_date,
child_iq,
everything(),
-starts_with("care"),
-starts_with("other_child"),
-starts_with("teach"),
-starts_with("recruit"),
-school) %>%
dplyr::filter(!is.na(child_iq)) %>%
dplyr::arrange(sub_id)
df
df <- df_both %>%
tidyr::unite(col = parent1_ethnicity,
starts_with("parent1_ethnicity_"),
sep = "") %>%
tidyr::unite(col = parent2_ethnicity,
starts_with("parent2_ethnicity_"),
sep = "") %>%
tidyr::unite(col = child_ethnicity,
starts_with("child_ethnicity_"),
sep = "") %>%
dplyr::filter(!sub_id %in% c("T14", "T18",
"T19", "T20", "T35",
"A03", "A04", "A14")) %>%
janitor::remove_empty(which = "cols") %>%
dplyr::mutate_at(vars(sub_id, sub_dx,
grade,
child_ethnicity, child_prev_mh,
child_words, child_sentence,
child_earinf, child_eartube, child_psycheval, child_splag_eval,
child_heareval, child_aca,
child_repeat, child_sped,
marital_status, income,
edprobs, mhealth,
child_med, child_med_visit,
parent1_rel, parent1_gender, parent1_ethnicity, parent1_ed,
parent2_rel, parent2_gender, parent2_ethnicity, parent2_ed,
contains("ethn")),
factor) %>%
dplyr::mutate(child_iq = ifelse(!is.na(wiscvfsiqcs), wiscvfsiqcs, wasi_fsiq4)) %>%
dplyr:: select(sub_id, sub_dx, date, age, child_iq,
child_grade = grade,
child_ethnicity, child_prev_mh, child_prev_mh2,
child_edprobs = edprobs,
child_mhealth = mhealth,
child_mh_other = mh_other,
child_words, child_sentence,
child_earinf, child_eartube,
child_psycheval, child_psycheval2,
child_splag_eval, child_splag_eval2,
child_heareval, child_heareval2,
child_med, child_med2,
child_med_visit, child_aca, child_aca2,
child_repeat, child_sped, child_sped2,
marital_status, income,
parent1_rel, parent1_gender, parent1_ethnicity, parent1_ed, parent1_employment,
parent2_rel, parent2_gender, parent2_ethnicity, parent2_ed, parent2_employment,
wisc_date,
everything(),
-starts_with("care"),
-starts_with("other_child"),
-starts_with("teach"),
-starts_with("recruit"),
-school) %>%
dplyr::filter(!is.na(child_iq)) %>%
dplyr::arrange(sub_id)
df
df %>%
dplyr::group_by(sub_dx) %>%
dplyr::select(starts_with("child_")) %>%
purrr::discard(is.character) %>%
furniture::table1(total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
df <- df_both %>%
tidyr::unite(col = parent1_ethnicity,
starts_with("parent1_ethnicity_"),
sep = "") %>%
tidyr::unite(col = parent2_ethnicity,
starts_with("parent2_ethnicity_"),
sep = "") %>%
tidyr::unite(col = child_ethnicity,
starts_with("child_ethnicity_"),
sep = "") %>%
dplyr::filter(!sub_id %in% c("T14", "T18",
"T19", "T20", "T35",
"A03", "A04", "A14")) %>%
janitor::remove_empty(which = "cols") %>%
dplyr::mutate_at(vars(sub_id, sub_dx,
grade,
child_ethnicity, child_prev_mh,
child_words, child_sentence,
child_earinf, child_eartube, child_psycheval, child_splag_eval,
child_heareval, child_aca,
child_repeat, child_sped,
marital_status, income,
edprobs, mhealth,
child_med, child_med_visit,
parent1_rel, parent1_gender, parent1_ethnicity, parent1_ed,
parent2_rel, parent2_gender, parent2_ethnicity, parent2_ed,
contains("ethn")),
factor) %>%
dplyr::mutate(child_iq = ifelse(!is.na(wiscvfsiqcs), wiscvfsiqcs, wasi_fsiq4)) %>%
dplyr:: select(sub_id, sub_dx, date, child_age = age, child_iq,
child_grade = grade,
child_ethnicity, child_prev_mh, child_prev_mh2,
child_edprobs = edprobs,
child_mhealth = mhealth,
child_mh_other = mh_other,
child_words, child_sentence,
child_earinf, child_eartube,
child_psycheval, child_psycheval2,
child_splag_eval, child_splag_eval2,
child_heareval, child_heareval2,
child_med, child_med2,
child_med_visit, child_aca, child_aca2,
child_repeat, child_sped, child_sped2,
marital_status, income,
parent1_rel, parent1_gender, parent1_ethnicity, parent1_ed, parent1_employment,
parent2_rel, parent2_gender, parent2_ethnicity, parent2_ed, parent2_employment,
wisc_date,
everything(),
-starts_with("care"),
-starts_with("other_child"),
-starts_with("teach"),
-starts_with("recruit"),
-school) %>%
dplyr::filter(!is.na(child_iq)) %>%
dplyr::arrange(sub_id)
df %>%
dplyr::group_by(sub_dx) %>%
dplyr::select(starts_with("child_")) %>%
purrr::discard(is.character) %>%
furniture::table1(total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
df <- df_both %>%
tidyr::unite(col = parent1_ethnicity,
starts_with("parent1_ethnicity_"),
sep = "") %>%
tidyr::unite(col = parent2_ethnicity,
starts_with("parent2_ethnicity_"),
sep = "") %>%
tidyr::unite(col = child_ethnicity,
starts_with("child_ethnicity_"),
sep = "") %>%
dplyr::filter(!sub_id %in% c("T08", "T13", "T18", "T19", "T20", "T21", "T35",
"A03", "A04", "A07", "A14")) %>%
janitor::remove_empty(which = "cols") %>%
dplyr::mutate_at(vars(sub_id, sub_dx,
grade,
child_ethnicity, child_prev_mh,
child_words, child_sentence,
child_earinf, child_eartube, child_psycheval, child_splag_eval,
child_heareval, child_aca,
child_repeat, child_sped,
marital_status, income,
edprobs, mhealth,
child_med, child_med_visit,
parent1_rel, parent1_gender, parent1_ethnicity, parent1_ed,
parent2_rel, parent2_gender, parent2_ethnicity, parent2_ed,
contains("ethn")),
factor) %>%
dplyr::mutate(child_iq = ifelse(!is.na(wiscvfsiqcs), wiscvfsiqcs, wasi_fsiq4)) %>%
dplyr:: select(sub_id, sub_dx, date, child_age = age, child_iq,
child_grade = grade,
child_ethnicity, child_prev_mh, child_prev_mh2,
child_edprobs = edprobs,
child_mhealth = mhealth,
child_mh_other = mh_other,
child_words, child_sentence,
child_earinf, child_eartube,
child_psycheval, child_psycheval2,
child_splag_eval, child_splag_eval2,
child_heareval, child_heareval2,
child_med, child_med2,
child_med_visit, child_aca, child_aca2,
child_repeat, child_sped, child_sped2,
marital_status, income,
parent1_rel, parent1_gender, parent1_ethnicity, parent1_ed, parent1_employment,
parent2_rel, parent2_gender, parent2_ethnicity, parent2_ed, parent2_employment,
wisc_date,
everything(),
-starts_with("care"),
-starts_with("other_child"),
-starts_with("teach"),
-starts_with("recruit"),
-school) %>%
dplyr::filter(!is.na(child_iq)) %>%
dplyr::arrange(sub_id)
df
df <- df_both %>%
tidyr::unite(col = parent1_ethnicity,
starts_with("parent1_ethnicity_"),
sep = "") %>%
tidyr::unite(col = parent2_ethnicity,
starts_with("parent2_ethnicity_"),
sep = "") %>%
tidyr::unite(col = child_ethnicity,
starts_with("child_ethnicity_"),
sep = "") %>%
dplyr::filter(!sub_id %in% c("T08", "T13", "T18", "T19", "T20", "T21", "T35",
"A03", "A04", "A07", "A14")) %>%
janitor::remove_empty(which = "cols") %>%
dplyr::mutate_at(vars(sub_id, sub_dx,
grade,
child_ethnicity, child_prev_mh,
child_words, child_sentence,
child_earinf, child_eartube, child_psycheval, child_splag_eval,
child_heareval, child_aca,
child_repeat, child_sped,
marital_status, income,
edprobs, mhealth,
child_med, child_med_visit,
parent1_rel, parent1_gender, parent1_ethnicity, parent1_ed,
parent2_rel, parent2_gender, parent2_ethnicity, parent2_ed,
contains("ethn")),
factor) %>%
dplyr::mutate(child_iq = ifelse(!is.na(wiscvfsiqcs), wiscvfsiqcs, wasi_fsiq4)) %>%
dplyr:: select(sub_id, sub_dx, date, child_age = age, child_iq,
child_grade = grade,
child_ethnicity, child_prev_mh, child_prev_mh2,
child_edprobs = edprobs,
child_mhealth = mhealth,
child_mh_other = mh_other,
child_words, child_sentence,
child_earinf, child_eartube,
child_psycheval, child_psycheval2,
child_splag_eval, child_splag_eval2,
child_heareval, child_heareval2,
child_med, child_med2,
child_med_visit, child_aca, child_aca2,
child_repeat, child_sped, child_sped2,
marital_status, income,
parent1_rel, parent1_gender, parent1_ethnicity, parent1_ed, parent1_employment,
parent2_rel, parent2_gender, parent2_ethnicity, parent2_ed, parent2_employment,
wisc_date,
everything(),
-starts_with("care"),
-starts_with("other_child"),
-starts_with("teach"),
-starts_with("recruit"),
-school) %>%
# dplyr::filter(!is.na(child_iq)) %>%
dplyr::arrange(sub_id)
df
df %>%
dplyr::group_by(sub_dx) %>%
dplyr::select(starts_with("child_")) %>%
purrr::discard(is.character) %>%
furniture::table1(total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
df %>%
dplyr::select(starts_with("child_")) %>%
purrr::discard(is.character) %>%
furniture::table1(splitby = ~ sub_dx,
total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
df
df %>%
dplyr::select(sub_dx, starts_with("child_")) %>%
purrr::discard(is.character) %>%
furniture::table1(splitby = ~ sub_dx,
total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
df %>%
dplyr::select(sub_dx, starts_with("child_")) %>%
purrr::discard(is.character)
df %>%
dplyr::select(sub_dx, starts_with("child_"), -child_ethnicity) %>%
purrr::discard(is.character) %>%
furniture::table1(splitby = ~ sub_dx,
total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
df %>%
dplyr::select(sub_dx, starts_
with("child_"), -child_ethnicity)
df %>%
dplyr::select(sub_dx, starts_with("child_"), -child_ethnicity)
df %>%
dplyr::select(sub_dx, starts_with("child_"), -child_ethnicity) %>%
purrr::discard(is.character)
df %>%
dplyr::select(sub_dx, starts_with("child_"), -child_ethnicity, -child_repeat) %>%
purrr::discard(is.character) %>%
furniture::table1(splitby = ~ sub_dx,
total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
df <- df_both %>%
tidyr::unite(col = parent1_ethnicity,
starts_with("parent1_ethnicity_"),
sep = "") %>%
tidyr::unite(col = parent2_ethnicity,
starts_with("parent2_ethnicity_"),
sep = "") %>%
tidyr::unite(col = child_ethnicity,
starts_with("child_ethnicity_"),
sep = "") %>%
dplyr::filter(!sub_id %in% c("T08", "T13", "T18", "T19", "T20", "T21", "T35",
"A03", "A04", "A07", "A14")) %>%
janitor::remove_empty(which = "cols") %>%
dplyr::mutate_at(vars(sub_id, sub_dx,
grade,
child_ethnicity, child_prev_mh,
child_words, child_sentence,
child_earinf, child_eartube, child_psycheval, child_splag_eval,
child_heareval, child_aca,
child_repeat, child_sped,
marital_status, income,
edprobs, mhealth,
child_med, child_med_visit,
parent1_rel, parent1_gender, parent1_ethnicity, parent1_ed,
parent2_rel, parent2_gender, parent2_ethnicity, parent2_ed,
contains("ethn")),
factor) %>%
dplyr::mutate(child_iq = ifelse(!is.na(wiscvfsiqcs), wiscvfsiqcs, wasi_fsiq4)) %>%
dplyr:: select(sub_id, sub_dx, date, child_age = age, child_iq,
child_grade = grade,
child_ethnicity, child_prev_mh, child_prev_mh2,
child_edprobs = edprobs,
child_mhealth = mhealth,
child_mh_other = mh_other,
child_words, child_sentence,
child_earinf, child_eartube,
child_psycheval, child_psycheval2,
child_splag_eval, child_splag_eval2,
child_heareval, child_heareval2,
child_med, child_med2,
child_med_visit, child_aca, child_aca2,
child_repeat, child_sped, child_sped2,
marital_status, income,
parent1_rel, parent1_gender, parent1_ethnicity, parent1_ed, parent1_employment,
parent2_rel, parent2_gender, parent2_ethnicity, parent2_ed, parent2_employment,
wisc_date,
everything(),
-starts_with("care"),
-starts_with("other_child"),
-starts_with("teach"),
-starts_with("recruit"),
-school,
-child_repeat) %>%
# dplyr::filter(!is.na(child_iq)) %>%
dplyr::arrange(sub_id)
df %>%
dplyr::select(sub_dx, starts_with("child_"), -child_ethnicity) %>%
purrr::discard(is.character) %>%
furniture::table1(splitby = ~ sub_dx,
total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
df %>%
dplyr::select(sub_dx, starts_with("child_"), -child_ethnicity) %>%
purrr::discard(is.character) %>%
furniture::table1(-sub_dx,
splitby = ~ sub_dx,
total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
df %>%
dplyr::select(sub_dx, starts_with("child_"), -child_ethnicity) %>%
purrr::discard(is.character) %>%
dplyhr::group_by(sub_dx) %>%
furniture::table1(total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
df %>%
dplyr::select(sub_dx, starts_with("child_"), -child_ethnicity) %>%
purrr::discard(is.character) %>%
dplyr::group_by(sub_dx) %>%
furniture::table1(total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
df %>%
dplyr::select(sub_dx, starts_with("child_"), -child_ethnicity) %>%
purrr::discard(is.character) %>%
dplyr::group_by(sub_dx) %>%
furniture::table1(total = TRUE,
test = TRUE,
na.rm = FALSE,
digits = 2,
output = "markdown")
df %>%
dplyr::group_by(sub_dx) %>%
dplyr::select(marital_status, income,
starts_with("parent")) %>%
purrr::discard(is.character) %>%
furniture::table1(total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
df %>%
dplyr::group_by(sub_dx) %>%
dplyr::select(child_iq,
asrs_total_t,
asrs_soccomm_t,
asrs_unbx_t,
asrs_sr_t,
asrs_dsm_t,
gort5ori,
wiat_rcfs,
wj_rfs,
ktea_rcomposites) %>%
furniture::table1(total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
df %>%
dplyr::group_by(sub_dx) %>%
dplyr::select(child_iq,
asrs_total_t,
asrs_soccomm_t,
asrs_unbx_t,
asrs_sr_t,
asrs_dsm_t,
gort5ori,
wiat_rcfs,
wj_rfs,
ktea_rcomposites) %>%
furniture::table1(total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
save(df,
file = "ASD_std_read_data_clean.RData")
load("ASD_std_read_data_clean.RData")
tibble::glimpse(df)
df %>%
dplyr::group_by(sub_dx) %>%
dplyr::select(child_iq,
asrs_total_t,
asrs_soccomm_t,
asrs_unbx_t,
asrs_sr_t,
asrs_dsm_t,
gort5ori,
wiat_rcfs,
wj_rfs,
ktea_rcomposites) %>%
furniture::table1(total = TRUE,
test = TRUE,
na.rm = FALSE,
output = "markdown")
setwd("~/GitHub/jy_CV")
library(scholar)
library(tidyverse)
scholar::get_citation_history(id = "HMdHkLYAAAAJ") %>%
ggplot(aes(x = factor(year),
y = cites)) +
geom_col() +
theme_bw() +
labs(x = "Year",
y = "Citations per Year\n(Google Scholar)")
