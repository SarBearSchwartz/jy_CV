"0","df_eval <- readxl::read_excel(""data/courseeval_vs_database_SS_2024-05-03.xlsx"") %>% "
"0","  janitor::clean_names() %>% "
"0","  tidyr::separate(col = year_and_semester, "
"0","                  into = c(""year"", ""sem""),"
"0","                  remove = FALSE) %>% "
"0","  dplyr::mutate(course = "
"0","                  case_when(stringr::str_match(course_num, "
"0","                                               pattern = ""STAT 2000"") > 0 ~ ""STAT 2000"","
"0","                            stringr::str_match(course_num, "
"0","                                               pattern = ""PSY 3010"") > 0 ~ ""PSY 3010"","
"0","                            stringr::str_match(course_num, "
"0","                                               pattern = ""PSY 6600"") > 0 ~ ""PSY 6600"","
"0","                            stringr::str_match(course_num, "
"0","                                               pattern = ""PSY 7650"") > 0 ~ ""PSY 7650"")) %>% "
"0","  dplyr::mutate(num = response_rate*enrolled) %>% "
"0","  dplyr::mutate(year = as.numeric(year)) %>% "
"0","  dplyr::mutate(sem = factor(sem, levels = c(""Spring"", ""Summer"", ""Fall""))) %>% "
"0","  dplyr::mutate(course = factor(course)) %>% "
"0","  dplyr::mutate(time = (year - 2014)*3 + as.numeric(sem) - 1) %>% "
"0","  dplyr::arrange(year, sem) %>% "
"0","  dplyr::mutate(time = case_when(sem == ""Spring"" ~ lubridate::ymd(paste(year,  3, 1, sep = ""/"")),"
"0","                                 sem == ""Summer"" ~ lubridate::ymd(paste(year,  6, 15, sep = ""/"")),"
"0","                                 sem == ""Fall""   ~ lubridate::ymd(paste(year, 10, 1, sep = ""/"")))) %>% "
"0","  dplyr::select(time, year, sem, "
"0","                course, "
"0","                rate = response_rate, enrolled, num,"
"0","                progress_on_objectives,"
"0","                excellent_teacher,"
"0","                excellent_course,"
"0","                summary_evaluation)"
